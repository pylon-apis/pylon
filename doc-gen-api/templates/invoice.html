<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; color: #1a1a2e; padding: 60px; line-height: 1.5; }
  .header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 48px; }
  .company-name { font-size: 28px; font-weight: 700; color: #1a1a2e; }
  .invoice-title { font-size: 36px; font-weight: 300; color: #6c63ff; text-align: right; }
  .invoice-number { font-size: 14px; color: #666; text-align: right; margin-top: 4px; }
  .details { display: flex; justify-content: space-between; margin-bottom: 40px; }
  .detail-block h4 { font-size: 11px; text-transform: uppercase; letter-spacing: 1.5px; color: #999; margin-bottom: 8px; }
  .detail-block p { font-size: 14px; color: #333; }
  table { width: 100%; border-collapse: collapse; margin-bottom: 32px; }
  thead th { background: #f8f7ff; padding: 12px 16px; text-align: left; font-size: 11px; text-transform: uppercase; letter-spacing: 1px; color: #666; border-bottom: 2px solid #6c63ff; }
  thead th:last-child, thead th:nth-child(2), thead th:nth-child(3) { text-align: right; }
  tbody td { padding: 14px 16px; font-size: 14px; border-bottom: 1px solid #eee; }
  tbody td:last-child, tbody td:nth-child(2), tbody td:nth-child(3) { text-align: right; }
  .total-row { display: flex; justify-content: flex-end; margin-bottom: 40px; }
  .total-box { background: #6c63ff; color: white; padding: 20px 32px; border-radius: 8px; text-align: right; }
  .total-label { font-size: 11px; text-transform: uppercase; letter-spacing: 1.5px; opacity: 0.8; }
  .total-amount { font-size: 32px; font-weight: 700; margin-top: 4px; }
  .due-date { font-size: 13px; opacity: 0.8; margin-top: 4px; }
  .notes { margin-top: 40px; padding-top: 24px; border-top: 1px solid #eee; }
  .notes h4 { font-size: 11px; text-transform: uppercase; letter-spacing: 1.5px; color: #999; margin-bottom: 8px; }
  .notes p { font-size: 13px; color: #666; }
  .footer { margin-top: 60px; text-align: center; font-size: 12px; color: #bbb; }
</style>
</head>
<body>
  <div class="header">
    <div class="company-name">{{company}}</div>
    <div>
      <div class="invoice-title">Invoice</div>
      <div class="invoice-number">{{invoice_number}}</div>
    </div>
  </div>

  <div class="details">
    <div class="detail-block">
      <h4>Bill To</h4>
      <p>{{to}}</p>
    </div>
    <div class="detail-block">
      <h4>Due Date</h4>
      <p>{{due_date}}</p>
    </div>
  </div>

  <table>
    <thead>
      <tr><th>Item</th><th>Qty</th><th>Price</th><th>Amount</th></tr>
    </thead>
    <tbody>
      {{#each items}}
      <tr>
        <td>{{this.name}}</td>
        <td>{{this.qty}}</td>
        <td>${{formatPrice this.price}}</td>
        <td>${{formatPrice (multiply this.qty this.price)}}</td>
      </tr>
      {{/each}}
    </tbody>
  </table>

  <div class="total-row">
    <div class="total-box">
      <div class="total-label">Total Due</div>
      <div class="total-amount">${{formatPrice total}}</div>
      <div class="due-date">Due by {{due_date}}</div>
    </div>
  </div>

  {{#if notes}}
  <div class="notes">
    <h4>Notes</h4>
    <p>{{notes}}</p>
  </div>
  {{/if}}

  <div class="footer">Generated by Pylon Document API</div>
</body>
</html>
